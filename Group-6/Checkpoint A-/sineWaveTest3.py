import spidev
import pigpio
import rgb1602

pi = pigpio.pi()

cs = 7
pin = 13
pi.set_mode(cs, pigpio.OUTPUT)

spi = spidev.SpiDev()

currentFreq2 = 9500
Amp = 4

def amplitudeTable():

    global Amp, currentFreq2
    if 9800 <= currentFreq2 <= 10000:
        amp_map = {
            1: {"D1": 40, "D2": 0},
            1.25: {"D1": 27, "D2": 0},
            1.5: {"D1": 21, "D2": 0},
            1.75: {"D1": 18, "D2": 0},
            2: {"D1": 16, "D2": 0},
            2.25: {"D1": 13, "D2": 0},
            2.5: {"D1": 10, "D2": 0},
            2.75: {"D1": 9, "D2": 0},
            3: {"D1": 8, "D2": 0},
            3.25: {"D1": 7, "D2": 0},
            3.5: {"D1": 6, "D2": 0},
            3.75: {"D1": 6, "D2": 0},
            4: {"D1": 5, "D2": 0},
            4.25: {"D1": 4, "D2": 0},
            4.5: {"D1": 4, "D2": 0},
            4.75: {"D1": 4, "D2": 0},
            5: {"D1": 3, "D2": 0},
        }
        
    elif 9300 <= currentFreq2 <= 9400:
        amp_map = {
            1: {"D1": 49, "D2": 0},
            1.25: {"D1": 37, "D2": 0},
            1.5: {"D1": 29, "D2": 0},
            1.75: {"D1": 25, "D2": 0},
            2: {"D1": 19, "D2": 0},
            2.25: {"D1": 16, "D2": 0},
            2.5: {"D1": 14, "D2": 0},
            2.75: {"D1": 13, "D2": 0},
            3: {"D1": 12, "D2": 0},
            3.25: {"D1": 10, "D2": 0},
            3.5: {"D1": 9, "D2": 0},
            3.75: {"D1": 8, "D2": 0},
            4: {"D1": 7, "D2": 0},
            4.25: {"D1": 6, "D2": 0},
            4.5: {"D1": 5, "D2": 0},
            4.75: {"D1": 5, "D2": 0},
            5: {"D1": 4, "D2": 0},
        }
    
    elif 9500 <= currentFreq2 <= 9700:
        amp_map = {
            5:    {'D1': 3,  'D2': 0},
            4.75: {'D1': 4,  'D2': 0},
            4.5:  {'D1': 4,  'D2': 0},
            4.25: {'D1': 5,  'D2': 0},
            4:    {'D1': 6,  'D2': 0},
            3.75: {'D1': 6,  'D2': 0},
            3.5:  {'D1': 7,  'D2': 0},
            3.25: {'D1': 8,  'D2': 0},
            3:    {'D1': 9,  'D2': 0},
            2.75: {'D1': 12, 'D2': 0},
            2.5:  {'D1': 14, 'D2': 0},
            2.25: {'D1': 16, 'D2': 0},
            2:    {'D1': 17, 'D2': 0},
            1.75: {'D1': 22, 'D2': 0},
            1.5:  {'D1': 26, 'D2': 0},
            1.25: {'D1': 40, 'D2': 0},
            1:    {'D1': 50, 'D2': 0},
        }
    elif 8900 <= currentFreq2 <= 9200:
        amp_map = {
            5:    {'D1': 5,  'D2': 0},
            4.75: {'D1': 5,  'D2': 0},
            4.5:  {'D1': 6,  'D2': 0},
            4.25: {'D1': 6,  'D2': 0},
            4:    {'D1': 7,  'D2': 0},
            3.75: {'D1': 8,  'D2': 0},
            3.5:  {'D1': 9,  'D2': 0},
            3.25: {'D1': 10, 'D2': 0},
            3:    {'D1': 12, 'D2': 0},
            2.75: {'D1': 15, 'D2': 0},
            2.5:  {'D1': 18, 'D2': 0},
            2.25: {'D1': 18, 'D2': 0},
            2:    {'D1': 21, 'D2': 0},
            1.75: {'D1': 28, 'D2': 0},
            1.5:  {'D1': 32, 'D2': 0},
            1.25: {'D1': 45, 'D2': 0},
            1:    {'D1': 56, 'D2': 0},
        }
    elif 8500 <= currentFreq2 <= 8800:
        amp_map = {
            5:    {'D1': 6,  'D2': 0},
            4.75: {'D1': 6,  'D2': 0},
            4.5:  {'D1': 7,  'D2': 0},
            4.25: {'D1': 8,  'D2': 0},
            4:    {'D1': 9,  'D2': 0},
            3.75: {'D1': 10, 'D2': 0},
            3.5:  {'D1': 11, 'D2': 0},
            3.25: {'D1': 12, 'D2': 0},
            3:    {'D1': 13, 'D2': 0},
            2.75: {'D1': 16, 'D2': 0},
            2.5:  {'D1': 18, 'D2': 0},
            2.25: {'D1': 20, 'D2': 0},
            2:    {'D1': 26, 'D2': 0},
            1.75: {'D1': 30, 'D2': 0},
            1.5:  {'D1': 35, 'D2': 0},
            1.25: {'D1': 50, 'D2': 0},
            1:    {'D1': 64, 'D2': 0},
        }
    elif 8200 <= currentFreq2 <= 8400:
        amp_map = {
            5:    {'D1': 7,  'D2': 0},
            4.75: {'D1': 8,  'D2': 0},
            4.5:  {'D1': 8,  'D2': 0},
            4.25: {'D1': 9,  'D2': 0},
            4:    {'D1': 10, 'D2': 0},
            3.75: {'D1': 11, 'D2': 0},
            3.5:  {'D1': 12, 'D2': 0},
            3.25: {'D1': 14, 'D2': 0},
            3:    {'D1': 16, 'D2': 0},
            2.75: {'D1': 18, 'D2': 0},
            2.5:  {'D1': 20, 'D2': 0},
            2.25: {'D1': 23, 'D2': 0},
            2:    {'D1': 27, 'D2': 0},
            1.75: {'D1': 33, 'D2': 0},
            1.5:  {'D1': 39, 'D2': 0},
            1.25: {'D1': 55, 'D2': 0},
            1:    {'D1': 70, 'D2': 0},
        }
    elif 7800 <= currentFreq2 <= 8100:
        amp_map = {
            5:    {'D1': 8,  'D2': 0},
            4.75: {'D1': 9,  'D2': 0},
            4.5:  {'D1': 9,  'D2': 0},
            4.25: {'D1': 10, 'D2': 0},
            4:    {'D1': 12, 'D2': 0},
            3.75: {'D1': 13, 'D2': 0},
            3.5:  {'D1': 14, 'D2': 0},
            3.25: {'D1': 16, 'D2': 0},
            3:    {'D1': 18, 'D2': 0},
            2.75: {'D1': 21, 'D2': 0},
            2.5:  {'D1': 23, 'D2': 0},
            2.25: {'D1': 27, 'D2': 0},
            2:    {'D1': 31, 'D2': 0},
            1.75: {'D1': 36, 'D2': 0},
            1.5:  {'D1': 43, 'D2': 0},
            1.25: {'D1': 68, 'D2': 0},
            1:    {'D1': 80, 'D2': 0},
        }
    elif 7500 <= currentFreq2 <= 7700:
        amp_map = {
            5:    {'D1': 10, 'D2': 0},
            4.75: {'D1': 10, 'D2': 0},
            4.5:  {'D1': 11, 'D2': 0},
            4.25: {'D1': 12, 'D2': 0},
            4:    {'D1': 14, 'D2': 0},
            3.75: {'D1': 15, 'D2': 0},
            3.5:  {'D1': 16, 'D2': 0},
            3.25: {'D1': 19, 'D2': 0},
            3:    {'D1': 21, 'D2': 0},
            2.75: {'D1': 24, 'D2': 0},
            2.5:  {'D1': 28, 'D2': 0},
            2.25: {'D1': 31, 'D2': 0},
            2:    {'D1': 35, 'D2': 0},
            1.75: {'D1': 43, 'D2': 0},
            1.5:  {'D1': 49, 'D2': 0},
            1.25: {'D1': 74, 'D2': 0},
            1:    {'D1': 90, 'D2': 0},
        }
    elif 7100 <= currentFreq2 <= 7400:
        amp_map = {
            5:    {'D1': 11, 'D2': 0},
            4.75: {'D1': 12, 'D2': 0},
            4.5:  {'D1': 13, 'D2': 0},
            4.25: {'D1': 14, 'D2': 0},
            4:    {'D1': 15, 'D2': 0},
            3.75: {'D1': 17, 'D2': 0},
            3.5:  {'D1': 19, 'D2': 0},
            3.25: {'D1': 21, 'D2': 0},
            3:    {'D1': 24, 'D2': 0},
            2.75: {'D1': 28, 'D2': 0},
            2.5:  {'D1': 33, 'D2': 0},
            2.25: {'D1': 36, 'D2': 0},
            2:    {'D1': 40, 'D2': 0},
            1.75: {'D1': 46, 'D2': 0},
            1.5:  {'D1': 55, 'D2': 0},
            1.25: {'D1': 79, 'D2': 0},
            1:    {'D1': 100, 'D2': 0},
        }
    elif 6700 <= currentFreq2 <= 7000:
        amp_map = {
            5:    {'D1': 14, 'D2': 0},
            4.75: {'D1': 14, 'D2': 0},
            4.5:  {'D1': 15, 'D2': 0},
            4.25: {'D1': 16, 'D2': 0},
            4:    {'D1': 18, 'D2': 0},
            3.75: {'D1': 20, 'D2': 0},
            3.5:  {'D1': 22, 'D2': 0},
            3.25: {'D1': 24, 'D2': 0},
            3:    {'D1': 26, 'D2': 0},
            2.75: {'D1': 29, 'D2': 0},
            2.5:  {'D1': 32, 'D2': 0},
            2.25: {'D1': 43, 'D2': 0},
            2:    {'D1': 50, 'D2': 0},
            1.75: {'D1': 60, 'D2': 0},
            1.5:  {'D1': 70, 'D2': 0},
            1.25: {'D1': 80, 'D2': 0},
            1:    {'D1': 110, 'D2': 0},
        }
    elif 6500 <= currentFreq2 <= 6600:
        amp_map = {
            5:    {'D1': 14,  'D2': 0},
            4.75: {'D1': 15,  'D2': 0},
            4.5:  {'D1': 16,  'D2': 0},
            4.25: {'D1': 17,  'D2': 0},
            4:    {'D1': 20,  'D2': 0},
            3.75: {'D1': 23,  'D2': 0},
            3.5:  {'D1': 25,  'D2': 0},
            3.25: {'D1': 28,  'D2': 0},
            3:    {'D1': 31,  'D2': 0},
            2.75: {'D1': 36,  'D2': 0},
            2.5:  {'D1': 38,  'D2': 0},
            2.25: {'D1': 42,  'D2': 0},
            2:    {'D1': 49,  'D2': 0},
            1.75: {'D1': 59,  'D2': 0},
            1.5:  {'D1': 73,  'D2': 0},
            1.25: {'D1': 95,  'D2': 0},
            1:    {'D1': 118, 'D2': 0},
        }
    elif 6100 <= currentFreq2 <= 6400:
        amp_map = {
            5:    {'D1': 16, 'D2': 0},
            4.75: {'D1': 17, 'D2': 0},
            4.5:  {'D1': 19, 'D2': 0},
            4.25: {'D1': 20, 'D2': 0},
            4:    {'D1': 22, 'D2': 0},
            3.75: {'D1': 24, 'D2': 0},
            3.5:  {'D1': 26, 'D2': 0},
            3.25: {'D1': 29, 'D2': 0},
            3:    {'D1': 33, 'D2': 0},
            2.75: {'D1': 36, 'D2': 0},
            2.5:  {'D1': 40, 'D2': 0},
            2.25: {'D1': 46, 'D2': 0},
            2:    {'D1': 52, 'D2': 0},
            1.75: {'D1': 65, 'D2': 0},
            1.5:  {'D1': 79, 'D2': 0},
            1.25: {'D1': 100, 'D2': 0},
            1:    {'D1': 128, 'D2': 0},
        }
    elif 5800 <= currentFreq2 <= 6000:
        amp_map = {
            5:    {'D1': 18, 'D2': 0},
            4.75: {'D1': 19, 'D2': 0},
            4.5:  {'D1': 21, 'D2': 0},
            4.25: {'D1': 23, 'D2': 0},
            4:    {'D1': 24, 'D2': 0},
            3.75: {'D1': 27, 'D2': 0},
            3.5:  {'D1': 30, 'D2': 0},
            3.25: {'D1': 32, 'D2': 0},
            3:    {'D1': 37, 'D2': 0},
            2.75: {'D1': 41, 'D2': 0},
            2.5:  {'D1': 46, 'D2': 0},
            2.25: {'D1': 52, 'D2': 0},
            2:    {'D1': 59, 'D2': 0},
            1.75: {'D1': 75, 'D2': 0},
            1.5:  {'D1': 90, 'D2': 0},
            1.25: {'D1': 112, 'D2': 0},
            1:    {'D1': 128, 'D2': 0},
        }
    elif 5500 <= currentFreq2 <= 5700:
        amp_map = {
            5:    {'D1': 19, 'D2': 0},
            4.75: {'D1': 21, 'D2': 0},
            4.5:  {'D1': 23, 'D2': 0},
            4.25: {'D1': 25, 'D2': 0},
            4:    {'D1': 27, 'D2': 0},
            3.75: {'D1': 30, 'D2': 0},
            3.5:  {'D1': 33, 'D2': 0},
            3.25: {'D1': 36, 'D2': 0},
            3:    {'D1': 39, 'D2': 0},
            2.75: {'D1': 44, 'D2': 0},
            2.5:  {'D1': 48, 'D2': 0},
            2.25: {'D1': 55, 'D2': 0},
            2:    {'D1': 64, 'D2': 0},
            1.75: {'D1': 80, 'D2': 0},
            1.5:  {'D1': 97, 'D2': 0},
            1.25: {'D1': 120, 'D2': 0},
            1:    {'D1': 128, 'D2': 0},
        }
    elif 5200 <= currentFreq2 <= 5400:
       amp_map = {
            5:    {'D1': 6, 'D2': 10},
            4.75: {'D1': 6, 'D2': 10},
            4.5:  {'D1': 7, 'D2': 10},
            4.25: {'D1': 8, 'D2': 10},
            4:    {'D1': 8, 'D2': 10},
            3.75: {'D1': 10, 'D2': 10},
            3.5:  {'D1': 11, 'D2': 10},
            3.25: {'D1': 12, 'D2': 10},
            3:    {'D1': 14, 'D2': 10},
            2.75: {'D1': 15, 'D2': 10},
            2.5:  {'D1': 18, 'D2': 10},
            2.25: {'D1': 22, 'D2': 10},
            2:    {'D1': 25, 'D2': 10},
            1.75: {'D1': 29, 'D2': 10},
            1.5:  {'D1': 35, 'D2': 10},
            1.25: {'D1': 50, 'D2': 10},
            1:    {'D1': 62, 'D2': 10},
        }
    elif 4900 <= currentFreq2 <= 5100:
        amp_map = {
            5:    {'D1': 7, 'D2': 10},
            4.75: {'D1': 8, 'D2': 10},
            4.5:  {'D1': 8, 'D2': 10},
            4.25: {'D1': 9, 'D2': 10},
            4:    {'D1': 10, 'D2': 10},
            3.75: {'D1': 11, 'D2': 10},
            3.5:  {'D1': 13, 'D2': 10},
            3.25: {'D1': 15, 'D2': 10},
            3:    {'D1': 17, 'D2': 10},
            2.75: {'D1': 19, 'D2': 10},
            2.5:  {'D1': 22, 'D2': 10},
            2.25: {'D1': 26, 'D2': 10},
            2:    {'D1': 30, 'D2': 10},
            1.75: {'D1': 34, 'D2': 10},
            1.5:  {'D1': 40, 'D2': 10},
            1.25: {'D1': 55, 'D2': 10},
            1:    {'D1': 74, 'D2': 10},
        }
    elif 4600 <= currentFreq2 <= 4800:
        amp_map = {
            5:    {'D1': 9, 'D2': 10},
            4.75: {'D1': 9, 'D2': 10},
            4.5:  {'D1': 10, 'D2': 10},
            4.25: {'D1': 11, 'D2': 10},
            4:    {'D1': 12, 'D2': 10},
            3.75: {'D1': 14, 'D2': 10},
            3.5:  {'D1': 15, 'D2': 10},
            3.25: {'D1': 17, 'D2': 10},
            3:    {'D1': 19, 'D2': 10},
            2.75: {'D1': 22, 'D2': 10},
            2.5:  {'D1': 25, 'D2': 10},
            2.25: {'D1': 29, 'D2': 10},
            2:    {'D1': 34, 'D2': 10},
            1.75: {'D1': 40, 'D2': 10},
            1.5:  {'D1': 48, 'D2': 10},
            1.25: {'D1': 63, 'D2': 10},
            1:    {'D1': 82, 'D2': 10},
        }
    elif 4300 <= currentFreq2 <= 4500:
        amp_map = {
            5:    {'D1': 11, 'D2': 10},
            4.75: {'D1': 11, 'D2': 10},
            4.5:  {'D1': 12, 'D2': 10},
            4.25: {'D1': 14, 'D2': 10},
            4:    {'D1': 15, 'D2': 10},
            3.75: {'D1': 17, 'D2': 10},
            3.5:  {'D1': 18, 'D2': 10},
            3.25: {'D1': 20, 'D2': 10},
            3:    {'D1': 22, 'D2': 10},
            2.75: {'D1': 27, 'D2': 10},
            2.5:  {'D1': 30, 'D2': 10},
            2.25: {'D1': 34, 'D2': 10},
            2:    {'D1': 40, 'D2': 10},
            1.75: {'D1': 46, 'D2': 10},
            1.5:  {'D1': 58, 'D2': 10},
            1.25: {'D1': 72, 'D2': 10},
            1:    {'D1': 94, 'D2': 10},
        }
    elif 4000 <= currentFreq2 <= 4200:
        amp_map = {
            5:    {'D1': 13, 'D2': 10},
            4.75: {'D1': 14, 'D2': 10},
            4.5:  {'D1': 15, 'D2': 10},
            4.25: {'D1': 16, 'D2': 10},
            4:    {'D1': 18, 'D2': 10},
            3.75: {'D1': 20, 'D2': 10},
            3.5:  {'D1': 22, 'D2': 10},
            3.25: {'D1': 24, 'D2': 10},
            3:    {'D1': 27, 'D2': 10},
            2.75: {'D1': 32, 'D2': 10},
            2.5:  {'D1': 35, 'D2': 10},
            2.25: {'D1': 42, 'D2': 10},
            2:    {'D1': 47, 'D2': 10},
            1.75: {'D1': 58, 'D2': 10},
            1.5:  {'D1': 68, 'D2': 10},
            1.25: {'D1': 90, 'D2': 10},
            1:    {'D1': 112, 'D2': 10},
        }
    elif 3800 <= currentFreq2 <= 3900:
        amp_map = {
            5:    {'D1': 16, 'D2': 10},
            4.75: {'D1': 17, 'D2': 10},
            4.5:  {'D1': 18, 'D2': 10},
            4.25: {'D1': 20, 'D2': 10},
            4:    {'D1': 21, 'D2': 10},
            3.75: {'D1': 24, 'D2': 10},
            3.5:  {'D1': 26, 'D2': 10},
            3.25: {'D1': 29, 'D2': 10},
            3:    {'D1': 32, 'D2': 10},
            2.75: {'D1': 40, 'D2': 10},
            2.5:  {'D1': 42, 'D2': 10},
            2.25: {'D1': 46, 'D2': 10},
            2:    {'D1': 60, 'D2': 10},
            1.75: {'D1': 72, 'D2': 10},
            1.5:  {'D1': 85, 'D2': 10},
            1.25: {'D1': 99, 'D2': 10},
            1:    {'D1': 128, 'D2': 10},
        }
    elif 3500 <= currentFreq2 <= 3700:
        amp_map = {
            5:    {'D1': 8, 'D2': 20},
            4.75: {'D1': 9, 'D2': 20},
            4.5:  {'D1': 10, 'D2': 20},
            4.25: {'D1': 11, 'D2': 20},
            4:    {'D1': 12, 'D2': 20},
            3.75: {'D1': 14, 'D2': 20},
            3.5:  {'D1': 15, 'D2': 20},
            3.25: {'D1': 17, 'D2': 20},
            3:    {'D1': 19, 'D2': 20},
            2.75: {'D1': 23, 'D2': 20},
            2.5:  {'D1': 26, 'D2': 20},
            2.25: {'D1': 30, 'D2': 20},
            2:    {'D1': 35, 'D2': 20},
            1.75: {'D1': 41, 'D2': 20},
            1.5:  {'D1': 45, 'D2': 20},
            1.25: {'D1': 65, 'D2': 20},
            1:    {'D1': 83, 'D2': 20},
        }
    elif 3200 <= currentFreq2 <= 3400:
        amp_map = {
            5:    {'D1': 11, 'D2': 20},
            4.75: {'D1': 12, 'D2': 20},
            4.5:  {'D1': 13, 'D2': 20},
            4.25: {'D1': 14, 'D2': 20},
            4:    {'D1': 16, 'D2': 20},
            3.75: {'D1': 18, 'D2': 20},
            3.5:  {'D1': 20, 'D2': 20},
            3.25: {'D1': 22, 'D2': 20},
            3:    {'D1': 25, 'D2': 20},
            2.75: {'D1': 28, 'D2': 20},
            2.5:  {'D1': 31, 'D2': 20},
            2.25: {'D1': 36, 'D2': 20},
            2:    {'D1': 44, 'D2': 20},
            1.75: {'D1': 54, 'D2': 20},
            1.5:  {'D1': 65, 'D2': 20},
            1.25: {'D1': 79, 'D2': 20},
            1:    {'D1': 108, 'D2': 20},
        }
    elif 2900 <= currentFreq2 <= 3100:
        amp_map = {
            5:    {'D1': 14, 'D2': 20},
            4.75: {'D1': 15, 'D2': 20},
            4.5:  {'D1': 17, 'D2': 20},
            4.25: {'D1': 19, 'D2': 20},
            4:    {'D1': 21, 'D2': 20},
            3.75: {'D1': 23, 'D2': 20},
            3.5:  {'D1': 25, 'D2': 20},
            3.25: {'D1': 27, 'D2': 20},
            3:    {'D1': 32, 'D2': 20},
            2.75: {'D1': 36, 'D2': 20},
            2.5:  {'D1': 40, 'D2': 20},
            2.25: {'D1': 47, 'D2': 20},
            2:    {'D1': 53, 'D2': 20},
            1.75: {'D1': 65, 'D2': 20},
            1.5:  {'D1': 80, 'D2': 20},
            1.25: {'D1': 107, 'D2': 20},
            1:    {'D1': 128, 'D2': 20},
        }
    elif 2600 <= currentFreq2 <= 2800:
        amp_map = {
            5:    {'D1': 3,  'D2': 50},
            4.75: {'D1': 3,  'D2': 50},
            4.5:  {'D1': 5,  'D2': 50},
            4.25: {'D1': 6,  'D2': 50},
            4:    {'D1': 7,  'D2': 50},
            3.75: {'D1': 8,  'D2': 50},
            3.5:  {'D1': 10, 'D2': 50},
            3.25: {'D1': 11, 'D2': 50},
            3:    {'D1': 14, 'D2': 50},
            2.75: {'D1': 16, 'D2': 50},
            2.5:  {'D1': 18, 'D2': 50},
            2.25: {'D1': 21, 'D2': 50},
            2:    {'D1': 26, 'D2': 50},
            1.75: {'D1': 33, 'D2': 50},
            1.5:  {'D1': 40, 'D2': 50},
            1.25: {'D1': 50, 'D2': 50},
            1:    {'D1': 70, 'D2': 50},
        }
    elif 2300 <= currentFreq2 <= 2500:
        amp_map = {
            5:    {'D1': 6,  'D2': 50},
            4.75: {'D1': 6,  'D2': 50},
            4.5:  {'D1': 8,  'D2': 50},
            4.25: {'D1': 9,  'D2': 50},
            4:    {'D1': 11, 'D2': 50},
            3.75: {'D1': 12, 'D2': 50},
            3.5:  {'D1': 14, 'D2': 50},
            3.25: {'D1': 16, 'D2': 50},
            3:    {'D1': 19, 'D2': 50},
            2.75: {'D1': 21, 'D2': 50},
            2.5:  {'D1': 25, 'D2': 50},
            2.25: {'D1': 27, 'D2': 50},
            2:    {'D1': 32, 'D2': 50},
            1.75: {'D1': 42, 'D2': 50},
            1.5:  {'D1': 50, 'D2': 50},
            1.25: {'D1': 62, 'D2': 50},
            1:    {'D1': 87, 'D2': 50},
        }
    elif 2100 <= currentFreq2 <= 2200:
        amp_map = {
            5:    {'D1': 9,   'D2': 50},
            4.75: {'D1': 10,  'D2': 50},
            4.5:  {'D1': 11,  'D2': 50},
            4.25: {'D1': 13,  'D2': 50},
            4:    {'D1': 15,  'D2': 50},
            3.75: {'D1': 17,  'D2': 50},
            3.5:  {'D1': 19,  'D2': 50},
            3.25: {'D1': 22,  'D2': 50},
            3:    {'D1': 25,  'D2': 50},
            2.75: {'D1': 29,  'D2': 50},
            2.5:  {'D1': 32,  'D2': 50},
            2.25: {'D1': 37,  'D2': 50},
            2:    {'D1': 45,  'D2': 50},
            1.75: {'D1': 55,  'D2': 50},
            1.5:  {'D1': 67,  'D2': 50},
            1.25: {'D1': 88,  'D2': 50},
            1:    {'D1': 112, 'D2': 50},
        }

    elif 1800 <= currentFreq2 <= 2000:
        amp_map = {
            5:    {'D1': 4,  'D2': 80},
            4.75: {'D1': 5,  'D2': 80},
            4.5:  {'D1': 6,  'D2': 80},
            4.25: {'D1': 7,  'D2': 80},
            4:    {'D1': 9,  'D2': 80},
            3.75: {'D1': 11, 'D2': 80},
            3.5:  {'D1': 13, 'D2': 80},
            3.25: {'D1': 15, 'D2': 80},
            3:    {'D1': 18, 'D2': 80},
            2.75: {'D1': 24, 'D2': 80},
            2.5:  {'D1': 28, 'D2': 80},
            2.25: {'D1': 32, 'D2': 80},
            2:    {'D1': 37, 'D2': 80},
            1.75: {'D1': 46, 'D2': 80},
            1.5:  {'D1': 54, 'D2': 80},
            1.25: {'D1': 71, 'D2': 80},
            1:    {'D1': 89, 'D2': 80},
        }
    elif 1600 <= currentFreq2 <= 1700:
        amp_map = {
            5:    {'D1': 7,   'D2': 80},
            4.75: {'D1': 8,   'D2': 80},
            4.5:  {'D1': 10,  'D2': 80},
            4.25: {'D1': 12,  'D2': 80},
            4:    {'D1': 15,  'D2': 80},
            3.75: {'D1': 16,  'D2': 80},
            3.5:  {'D1': 19,  'D2': 80},
            3.25: {'D1': 22,  'D2': 80},
            3:    {'D1': 26,  'D2': 80},
            2.75: {'D1': 30,  'D2': 80},
            2.5:  {'D1': 35,  'D2': 80},
            2.25: {'D1': 40,  'D2': 80},
            2:    {'D1': 49,  'D2': 80},
            1.75: {'D1': 59,  'D2': 80},
            1.5:  {'D1': 71,  'D2': 80},
            1.25: {'D1': 95,  'D2': 80},
            1:    {'D1': 120, 'D2': 80},
        }
    elif 1400 <= currentFreq2 <= 1500:
        amp_map = {
            5:    {'D1': 3,   'D2': 110},
            4.75: {'D1': 4,   'D2': 110},
            4.5:  {'D1': 6,   'D2': 110},
            4.25: {'D1': 8,   'D2': 110},
            4:    {'D1': 10,  'D2': 110},
            3.75: {'D1': 12,  'D2': 110},
            3.5:  {'D1': 15,  'D2': 110},
            3.25: {'D1': 18,  'D2': 110},
            3:    {'D1': 22,  'D2': 110},
            2.75: {'D1': 26,  'D2': 110},
            2.5:  {'D1': 30,  'D2': 110},
            2.25: {'D1': 35,  'D2': 110},
            2:    {'D1': 42,  'D2': 110},
            1.75: {'D1': 52,  'D2': 110},
            1.5:  {'D1': 65,  'D2': 110},
            1.25: {'D1': 84,  'D2': 110},
            1:    {'D1': 112, 'D2': 110},
        }
    elif currentFreq2 == 1300:
        amp_map = {
            5:    {'D1': 3,   'D2': 128},
            4.75: {'D1': 5,   'D2': 128},
            4.5:  {'D1': 7,   'D2': 128},
            4.25: {'D1': 8,   'D2': 128},
            4:    {'D1': 10,  'D2': 128},
            3.75: {'D1': 12,  'D2': 128},
            3.5:  {'D1': 15,  'D2': 128},
            3.25: {'D1': 18,  'D2': 128},
            3:    {'D1': 22,  'D2': 128},
            2.75: {'D1': 26,  'D2': 128},
            2.5:  {'D1': 30,  'D2': 128},
            2.25: {'D1': 35,  'D2': 128},
            2:    {'D1': 42,  'D2': 128},
            1.75: {'D1': 52,  'D2': 128},
            1.5:  {'D1': 65,  'D2': 128},
            1.25: {'D1': 84,  'D2': 128},
            1:    {'D1': 112, 'D2': 128},
        }
    elif currentFreq2 == 1200:
        amp_map = {
            5:    {'D1': 5,   'D2': 128},
            4.75: {'D1': 8,   'D2': 128},
            4.5:  {'D1': 10,  'D2': 128},
            4.25: {'D1': 12,  'D2': 128},
            4:    {'D1': 15,  'D2': 128},
            3.75: {'D1': 20,  'D2': 128},
            3.5:  {'D1': 24,  'D2': 128},
            3.25: {'D1': 26,  'D2': 128},
            3:    {'D1': 32,  'D2': 128},
            2.75: {'D1': 40,  'D2': 128},
            2.5:  {'D1': 45,  'D2': 128},
            2.25: {'D1': 50,  'D2': 128},
            2:    {'D1': 59,  'D2': 128},
            1.75: {'D1': 75,  'D2': 128},
            1.5:  {'D1': 95,  'D2': 128},
            1.25: {'D1': 112, 'D2': 128},
            1:    {'D1': 128, 'D2': 128},
        }
    elif currentFreq2 == 1100:
        amp_map = {
            5:    {'D1': 57,  'D2': 57},
            4.75: {'D1': 59,  'D2': 59},
            4.5:  {'D1': 61,  'D2': 61},
            4.25: {'D1': 64,  'D2': 64},
            4:    {'D1': 68,  'D2': 68},
            3.75: {'D1': 70,  'D2': 70},
            3.5:  {'D1': 73,  'D2': 73},
            3.25: {'D1': 76,  'D2': 76},
            3:    {'D1': 81,  'D2': 81},
            2.75: {'D1': 85,  'D2': 85},
            2.5:  {'D1': 90,  'D2': 90},
            2.25: {'D1': 95,  'D2': 95},
            2:    {'D1': 100, 'D2': 100},
            1.75: {'D1': 110, 'D2': 110},
            1.5:  {'D1': 119, 'D2': 119},
            1.25: {'D1': 128, 'D2': 128},
            1:    {'D1': 128, 'D2': 128},
        }
    elif currentFreq2 == 1000:
        amp_map = {
            5:    {'D1': 62,  'D2': 62},
            4.75: {'D1': 66,  'D2': 66},
            4.5:  {'D1': 68,  'D2': 68},
            4.25: {'D1': 71,  'D2': 71},
            4:    {'D1': 75,  'D2': 75},
            3.75: {'D1': 80,  'D2': 80},
            3.5:  {'D1': 83,  'D2': 83},
            3.25: {'D1': 86,  'D2': 86},
            3:    {'D1': 88,  'D2': 88},
            2.75: {'D1': 94,  'D2': 94},
            2.5:  {'D1': 96,  'D2': 96},
            2.25: {'D1': 102,  'D2': 102},
            2:    {'D1': 112, 'D2': 112},
            1.75: {'D1': 119, 'D2': 119},
            1.5:  {'D1': 125, 'D2': 125},
            1.25: {'D1': 128, 'D2': 128},
            1:    {'D1': 128, 'D2': 128},
        }
    amp_vals = amp_map[Amp]
    sine(amp_vals["D1"], amp_vals["D2"])
    

def sine(d1, d2):
    global currentFreq2, Amp
    pi.write(cs, 0)
    spi.open(0,1)
    spi.max_speed_hz = 1000000
    spi.xfer2([0x00, d1])
    spi.xfer2([0x10, d2])

    pi.hardware_PWM(13, currentFreq2, 500000)

amplitudeTable()

spi.close()
pi.stop()

